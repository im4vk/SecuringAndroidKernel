# Command & Control Server

## ‚ö†Ô∏è CRITICAL SECURITY DISCLAIMER

**THIS IS FOR EDUCATIONAL AND SECURITY RESEARCH PURPOSES ONLY**

This C2 server demonstrates real malware command & control techniques used by cybercriminals. It is designed to help security professionals understand how these systems work so they can better defend against them.

## Features

### üéØ Core C2 Capabilities
- **Real-time Device Management** - Monitor and control compromised Android devices
- **Command Execution** - Send commands to devices and receive results
- **Data Exfiltration** - Collect and view stolen data from devices
- **Surveillance Monitoring** - Real-time activity logs and user monitoring
- **Encrypted Communication** - Secure channels between devices and server

### üìä Web Dashboard
- **Live Dashboard** - Real-time statistics and device status
- **Device Manager** - Individual device control and monitoring
- **Data Viewer** - Browse and analyze exfiltrated data
- **Surveillance Feed** - Live activity monitoring and alerts

### üîß Technical Features
- **RESTful API** - For Android device communication
- **WebSocket Support** - Real-time updates and notifications
- **SQLite Database** - Persistent storage of device data and commands
- **JSON Communication** - Structured data exchange
- **Multi-device Support** - Manage multiple compromised devices

## Quick Start

### Prerequisites
- Python 3.7 or higher
- Android device or emulator for testing
- Network connectivity between server and Android device

### Installation

1. **Navigate to C2 Server directory:**
   ```bash
   cd C2Server/
   ```

2. **Make startup script executable:**
   ```bash
   chmod +x start_c2_server.sh
   ```

3. **Start the C2 server:**
   ```bash
   ./start_c2_server.sh
   ```

### Manual Setup (Alternative)

1. **Create virtual environment:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

2. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Start server:**
   ```bash
   python server.py
   ```

## Access Points

Once running, access these URLs:

- **üìä Main Dashboard**: http://localhost:5000
- **üì± Device Management**: http://localhost:5000/devices  
- **üíæ Stolen Data Viewer**: http://localhost:5000/data
- **üëÅÔ∏è Surveillance Monitor**: http://localhost:5000/surveillance

## Android Integration

### Update Android App
1. Open `MalwareDemo/app/src/main/java/com/securitydemo/malware/services/C2CommunicationService.kt`
2. Update `C2_SERVER_URL` with your computer's IP address:
   ```kotlin
   private const val C2_SERVER_URL = "http://YOUR_IP_ADDRESS:5000/api/android"
   ```

### Find Your IP Address
- **Linux/Mac**: `ifconfig` or `ip addr show`
- **Windows**: `ipconfig`
- **Use the IP address on the same network as your Android device**

## API Endpoints

### Android Device Endpoints
- `POST /api/android/checkin` - Device check-in and command retrieval
- `POST /api/android/upload_data` - Data exfiltration upload
- `POST /api/android/log` - Surveillance activity logging

### Web Dashboard API
- `GET /api/devices` - List all devices
- `GET /api/device/{id}/commands` - Device command history
- `GET /api/device/{id}/data` - Device exfiltrated data
- `POST /api/device/{id}/command` - Send command to device
- `GET /api/surveillance/logs` - Get surveillance logs
- `GET /api/statistics` - Get server statistics

## Demonstrated Attack Techniques

### üéØ Command & Control
- **Device Registration** - Automatic enrollment of compromised devices
- **Command Queuing** - Asynchronous command execution
- **Result Reporting** - Command success/failure feedback
- **Persistent Connection** - Maintain contact with devices

### üì° Communication Methods
- **HTTP(S) Communication** - Standard web protocols to blend in
- **JSON Data Format** - Structured data exchange
- **Periodic Check-ins** - Regular device status updates
- **Real-time Commands** - Immediate command execution

### üíæ Data Management
- **Data Collection** - Systematic gathering of stolen information
- **Data Classification** - Categorizing sensitive information
- **Data Encryption** - Protecting exfiltrated data in transit
- **Data Analysis** - Processing and analyzing stolen data

## Security Analysis

### üö® What This Demonstrates
This C2 server shows how real malware operators:
- **Manage large botnets** of compromised devices
- **Execute coordinated attacks** across multiple devices
- **Exfiltrate sensitive data** systematically
- **Monitor user activities** in real-time
- **Maintain persistence** and avoid detection

### üõ°Ô∏è Defensive Measures
To protect against these attacks:
- **Network Monitoring** - Watch for suspicious HTTP(S) traffic patterns
- **DNS Monitoring** - Block known malicious domains
- **Traffic Analysis** - Detect periodic check-in patterns
- **Endpoint Detection** - Monitor for unusual app behavior
- **User Education** - Train users to avoid malicious apps

## Educational Use Cases

### üéì Security Training
- **Red Team Exercises** - Simulate real attack scenarios
- **Blue Team Training** - Practice detection and response
- **Incident Response** - Learn malware investigation techniques
- **Forensic Analysis** - Understand attacker tools and methods

### üî¨ Research Applications
- **Malware Analysis** - Study C2 communication patterns
- **Network Security** - Test detection capabilities
- **Mobile Security** - Android malware research
- **Behavioral Analysis** - User activity monitoring research

## Important Notes

### ‚öñÔ∏è Legal and Ethical Use
- **Only use on devices you own**
- **Obtain written permission for testing**
- **Comply with local laws and regulations**
- **Follow responsible disclosure practices**

### üîí Security Considerations
- **This server has no authentication** - It's designed for demo purposes
- **Use only in isolated lab environments**
- **Do not expose to the internet**
- **Monitor all traffic generated**

### üìù Logging and Monitoring
The server logs all activities for educational analysis:
- Device connections and disconnections
- Command executions and results  
- Data exfiltration activities
- User surveillance events

## Troubleshooting

### Common Issues

**Server won't start:**
- Check Python 3 installation
- Verify all dependencies installed
- Check port 5000 availability

**Android app can't connect:**
- Verify IP address in C2CommunicationService.kt
- Check firewall settings
- Ensure devices on same network

**No data appearing:**
- Check Android app permissions
- Verify C2 service is running
- Check server logs for errors

## Contributing

This educational tool can be enhanced with:
- Additional command types
- Better encryption demonstrations
- More sophisticated evasion techniques
- Enhanced logging and analysis

## Legal Notice

This software is provided for educational and research purposes only. Users are responsible for ensuring their use complies with applicable laws and regulations. The authors are not responsible for any misuse of this software.

---

**Remember: The goal is to build better defenses by understanding the attacks.**
